/**
 ******************************************************************************
 * File Name          : pitch.h
 * Description        :
 * Created            : Mar 8, 2024
 * Author             : Malek Benmostefa et Cedric Verdi
 ******************************************************************************
 */

/* Prevent recursive inclusion -----------------------------------------------*/
#ifndef __PITCH_H__
#define __PITCH_H__

/* Includes ------------------------------------------------------------------*/
#include <stdint.h>
#include "stm32f4xx_hal.h"

/* Defines -------------------------------------------------------------------*/
#define RESOLUTION 3600 //(3600 par defaut)

/* Type definitions ----------------------------------------------------------*/

/* Function prototypes ------------------------------------------------------ */

/**
 * @brief  Conversion d'une tension en degree de rotation
 * @param  float volt
 * @param  uint8_t resolution
 * @retval float conversion
 */
float conversion_volt_angle(float volt, uint8_t resolution);

/**
 * @brief  Lecture de l'ADC
 * @param  ADC_HandleTypeDef *adc
 * @retval float conversion
 */

uint16_t conversion_ADC(ADC_HandleTypeDef *adc);

//Callback pour la fin d'une conversion ADC
void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc)
{
  adc_val = HAL_ADC_GetValue(&hadc1);
  /*Si le mode continu est DISABLED*/
  //HAL_ADC_Start_IT (&hadc1);
}


#endif
